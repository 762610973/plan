package main

import "fmt"

/*
* ç©ºæ¥å£anyã€interface{}çš„ç±»å‹é›†æ˜¯æ‰€æœ‰ç±»å‹çš„é›†åˆ
* æ‰€ä»¥åƒintã€stringã€strcut{}ã€MyStructã€func foobar()ã€chan intã€map[int]stringã€[]intç­‰ç­‰éƒ½åœ¨ç©ºæ¥å£çš„ç±»å‹é›†åˆä¸­
 */

/*
* è¿‘ä¼¼å…ƒç´ ~Tçš„ç±»å‹é›†åˆæ˜¯æ‰€æœ‰åº•å±‚ç±»å‹ä¸ºTçš„æ‰€æœ‰ç±»å‹çš„é›†åˆ
* ä¸€ä¸ªéæ¥å£ç±»å‹çš„ç±»å‹é›†åˆå°±æ˜¯åªåŒ…å«è¿™ä¸ªç±»å‹çš„ç±»å‹é›†åˆ, æ¯”å¦‚intçš„ç±»å‹é›†åˆåªåŒ…å«intè¿™æ ·ä¸€ä¸ªå…ƒç´ 
* è”åˆå…ƒç´ t1|t2|â€¦|tnçš„ç±»å‹é›†åˆæ˜¯è¿™äº›è”åˆå…ƒç´ ç±»å‹é›†åˆçš„å¹¶é›†
* ä¸€ä¸ªæ–¹æ³•çš„ç±»å‹é›†åˆæ˜¯å®šä¹‰è¿™ä¸ªæ–¹æ³•çš„æ‰€æœ‰ç±»å‹,ä¹Ÿå°±æ˜¯åªè¦æŸä¸ªç±»å‹çš„æ–¹æ³•é›†åŒ…å«è¿™ä¸ªæ–¹æ³•
	* é‚£ä¹ˆå®ƒå°±å±äºè¿™ä¸ªæ–¹æ³•çš„ç±»å‹é›†åˆ æ¯”å¦‚æ¥å£ä¸­æœ‰String() stringè¿™æ ·ä¸€ä¸ªæ–¹æ³•
	* é‚£ä¹ˆæ‰€æœ‰å®ç°è¿™ä¸ªæ–¹æ³•çš„ç±»å‹éƒ½å±äºString() stringå®šä¹‰çš„ç±»å‹é›†åˆ, æ¯”å¦‚net.IP
*/

/*
- åªæœ‰åŒ…å«ç±»å‹å…ƒç´ çš„æ¥å£æ‰å®šä¹‰äº†ç‰¹å®šç±»å‹(å¯èƒ½æ˜¯ç©ºçš„ç±»å‹)
* æ›´å‡†ç¡®åœ°è¯´ï¼Œå¯¹äºç»™å®šçš„æ¥å£Iï¼Œç‰¹å®šç±»å‹çš„é›†åˆå¯¹åº”äºè¯¥æ¥å£ä»£è¡¨çš„ç±»å‹é›†åˆğ‘…ï¼Œè¿™é‡Œè¦æ±‚ğ‘…æ˜¯éç©ºä¸”æœ‰é™çš„ã€‚
* å¦åˆ™ï¼Œå¦‚æœğ‘…ä¸ºç©ºæˆ–æ— é™ï¼Œåˆ™æ¥å£æ²¡æœ‰ç‰¹å®šç±»å‹
	* è”åˆç±»å‹çš„ä»£è¡¨ç±»å‹æ˜¯æ— é™çš„,æ²¡æœ‰ç‰¹å®šç±»å‹
! ä¸€ä¸ªæ¥å£å³ä½¿ç±»å‹ä¸ºç©º, å®ƒçš„ç‰¹å®šç±»å‹é›†åˆå¯èƒ½ä¸ä¸ºç©º
! ä¸€ä¸ªæ¥å£å³ä½¿æœ‰æœ‰é™çš„ç‰¹å®šç±»å‹, å®ƒçš„ç±»å‹é›†åˆä¹Ÿå¯èƒ½æ˜¯æ— é™çš„
- ç‰¹å®šç±»å‹ä¸»è¦ç”¨äºåˆ¤æ–­ç±»å‹å‚æ•°æ˜¯å¦æ”¯æŒç´¢å¼•,è¿˜ç”¨åšç±»å‹è½¬åŒ–å®šä¹‰ä¸Š
*/

func main() {
	//var m  myInt = 3
	m := myInt(3)
	m.name()
	testTwo(m)
	m2 := myInt2{3}
	testTwo(m2)
	range1([]byte{1, 2, 3}, 1, 2)
}

type two interface {
	~int | myInt2
	name() int
}

type myInt int

func (m myInt) name() int {
	return int(m)
}

func testTwo[T two](arg T) {
	arg.name()
}

type myInt2 struct {
	val int
}

func (m myInt2) name() int {
	return m.val
}

type twoPlus interface {
	two
	string | float64
}

func testTwoPlus[T two](arg T) {
	arg.name()
}

type myByte []byte

func range1[T []byte | myByte | string](x T, y, j int) {
	fmt.Println(len(x))
	fmt.Println(x[y:j])

}

func _[T interface{ []byte | myByte }](x T, y, j int) {
	fmt.Println(x[y:j])
}

type rangeType interface {
	[]byte | map[int]byte | string
}

// !æŠ¥é”™,å‚è€ƒ ä¸‹é¢çš„è¯´æ˜
/*
func rangeIt[R rangeType](r R) {
	for i, v := range r {
		fmt.Println(i, v)
	}
}
*/

/*
- ä¸€ä¸ªæ¥å£Tè¦è¢«æˆä¸ºç»“æ„åŒ–çš„(structural),éœ€è¦æ»¡è¶³ä¸‹é¢çš„æ¡ä»¶ä¹‹ä¸€:
	* å­˜åœ¨ä¸€ä¸ªå•ä¸€çš„ç±»å‹U,å®ƒæ˜¯Tçš„ç±»å‹é›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ç›¸åŒçš„åº•å±‚ç±»å‹
	* Tçš„ç±»å‹é›†åˆåªåŒ…å«chanç±»å‹ï¼Œå¹¶ä¸”å®ƒä»¬çš„å…ƒç´ ç±»å‹éƒ½æ˜¯E
	* æ‰€æœ‰çš„chançš„æ–¹å‘åŒ…å«ç›¸åŒçš„æ–¹å‘(ä¸ä¸€å®šè¦æ±‚å®Œå…¨ç›¸åŒ)
- ç»“æ„åŒ–ç±»å‹åŒ…å«ä¸€ä¸ªç»“æ„ç±»å‹ï¼Œæ ¹æ®ä¸Šé¢çš„æ¡ä»¶ä¸åŒï¼Œç»“æ„ç±»å‹å¯èƒ½æ˜¯:
	* ç±»å‹U, æˆ–è€…
	* å¦‚æœTåªåŒ…å«åŒå‘chançš„è¯ï¼Œç»“æ„ç±»å‹ä¸ºchan E,å¦åˆ™å¯èƒ½æ˜¯chan<- Eæˆ–è€…<-chan E
*/

/*
- å¦‚æœaçš„ç±»å‹æ˜¯ç±»å‹å‚æ•°Pçš„è¯
	* På¿…é¡»æœ‰ç‰¹å®šç±»å‹
	* å¦‚æœPçš„ç‰¹å®šç±»å‹åŒ…å«stringç±»å‹ï¼Œé‚£ä¹ˆä¸èƒ½ç»™a[x]èµ‹å€¼(å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„)
	* Pçš„æ‰€æœ‰ç‰¹å®šç±»å‹å¿…é¡»ç›¸åŒ
	* å¦‚æœPçš„ç‰¹å®šç±»å‹åŒ…å«mapç±»å‹çš„è¯, é‚£ä¹ˆå®ƒçš„æ‰€æœ‰ç‰¹å®šç±»å‹å¿…é¡»æ˜¯map,è€Œä¸”æ‰€æœ‰çš„keyçš„ç±»å‹æ˜¯ç›¸åŒçš„
- ç‰¹å®šç±»å‹è¿˜ç”¨ä½œç±»å‹è½¬åŒ–å®šä¹‰ä¸Š, å¯¹äºä¸€ä¸ªå˜é‡x,å¦‚æœå®ƒçš„ç±»å‹æ˜¯V, è¦è½¬æ¢æˆçš„ç±»å‹æ˜¯T
	* Vçš„æ¯ä¸€ä¸ªç‰¹å®šç±»å‹çš„å€¼éƒ½å¯ä»¥è½¬æ¢æˆTçš„æ¯ä¸€ä¸ªç‰¹å®šç±»å‹
	* åªæœ‰Væ˜¯ç±»å‹å‚æ•°ï¼ŒTä¸æ˜¯ï¼Œé‚£ä¹ˆVçš„æ¯ä¸€ä¸ªç‰¹å®šç±»å‹çš„å€¼éƒ½å¯ä»¥è½¬æ¢æˆT
	* åªæœ‰Tæ˜¯ç±»å‹å‚æ•°ï¼Œxå¯ä»¥è½¬æ¢æˆTçš„æ¯ä¸€ä¸ªç‰¹å®šç±»å‹
*/

type t1 interface{}
type t2 interface{ int }
type t3 interface{ ~string }       // ç‰¹å®šç±»å‹æ˜¯string
type t4 interface{ float64 | any } // æ²¡æœ‰ç‰¹å®šç±»å‹
type t5 interface {
	int
	string
} // æ²¡æœ‰ç‰¹å®šç±»å‹
type t6 interface {
	int
	any
} // ç‰¹å®šç±»å‹æ˜¯int,intå’Œanyçš„äº¤é›†
